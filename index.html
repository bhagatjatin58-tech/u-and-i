<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For My Gaggo ‚ù§Ô∏è</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #000; color: #fff; overflow: hidden; height: 100vh; width: 100vw; font-family: 'serif'; }
        
        .part { height: 100vh; width: 100vw; position: absolute; top: 0; left: 0; display: flex; justify-content: center; align-items: center; visibility: hidden; opacity: 0; transition: opacity 0.8s; }
        .active { visibility: visible; opacity: 1; z-index: 10; }
        
        .bg-video { position: absolute; top: 50%; left: 50%; min-width: 100%; min-height: 100%; z-index: -1; transform: translate(-50%, -50%); object-fit: cover; filter: brightness(45%); }
        
        .content { 
            position: relative; z-index: 20; 
            background: rgba(255, 255, 255, 0.1); 
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            padding: 25px; border: 1px solid rgba(255, 255, 255, 0.2); 
            border-radius: 20px; text-align: center; 
            max-width: 350px; width: 90%; max-height: 80vh; display: flex; flex-direction: column; 
        }

        .scroll-area { overflow-y: auto; margin-bottom: 10px; text-align: left; padding-right: 5px; }
        h1 { font-family: 'Brush Script MT', cursive; font-size: 2.2rem; margin-bottom: 15px; color: #ff4d4d; }
        .type-txt { font-size: 1rem; line-height: 1.6; font-weight: 500; color: #fff; }
        
        .btn { background: #ff4d4d; color: #fff; border: none; padding: 12px 25px; font-weight: bold; cursor: pointer; border-radius: 50px; margin-top: 15px; transition: 0.3s; align-self: center; text-decoration: none; }

        .heart-rain { position: absolute; color: #ff3333; font-size: 20px; top: -50px; animation: fall linear forwards; z-index: 5; pointer-events: none; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

        #val-box { background: rgba(255, 255, 255, 0.15); padding: 15px; margin-top: 15px; border-radius: 15px; display: none; border: 1px dashed #ff4d4d; }
        .val-btns { position: relative; height: 60px; margin-top: 15px; }
        #no-btn { position: absolute; left: 55%; transition: 0.1s; }
        #yes-btn { position: absolute; left: 10%; }
        
        #game-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 100; display: none; }
        #game-ui { position: fixed; top: 30px; width: 100%; text-align: center; color: white; font-size: 22px; z-index: 101; display: none; font-weight: bold; }
        
        .coupon { background: #fff; border: 5px gold double; padding: 30px; border-radius: 20px; text-align: center; color: #8b0000; display: none; z-index: 110; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 85%; max-width: 400px; box-shadow: 0 0 30px gold; }
        .claim-btns { position: relative; height: 100px; margin-top: 20px; }
        #not-interested-btn { position: absolute; left: 50%; transition: 0.2s; background: #999; font-size: 0.8rem; padding: 8px 15px; }
        #claim-btn { position: absolute; left: 0%; width: 100%; }

        #confession-page { background: #000; z-index: 200; display: none; }
        #finalVideo { width: 100%; height: 100%; object-fit: contain; }
    </style>
</head>
<body>

    <audio id="myMusic" loop><source src="mylovee.mp3" type="audio/mpeg"></audio>

    <div class="part active" id="start-screen" style="background: radial-gradient(circle, #300, #000);">
        <div class="content">
            <h1>Our Love Story ‚ù§Ô∏è</h1>
            <p class="type-txt" style="text-align: center;">I have made something very special for you Gaggo. Open this letter.</p>
            <button class="btn" onclick="go()">Open Letter ‚úâÔ∏è</button>
        </div>
    </div>

    <div class="part" id="p1">
        <video class="bg-video" id="v1" loop muted playsinline><source src="video1.mp4" type="video/mp4"></video>
        <div class="content">
            <h1>Our Beginning ‚ù§Ô∏è</h1>
            <div class="scroll-area"><p class="type-txt" id="m1"></p></div>
            <button class="btn" id="b1" style="display:none" onclick="nxt('p2', 'v2', 'm2')">Next Memory ‚ù§Ô∏è</button>
        </div>
    </div>

    <div class="part" id="p2">
        <video class="bg-video" id="v2" loop muted playsinline><source src="video2.mp4" type="video/mp4"></video>
        <div class="content">
            <h1>Memories ‚ú®</h1>
            <div class="scroll-area"><p class="type-txt" id="m2"></p></div>
            <button class="btn" id="b2" style="display:none" onclick="nxt('p3', 'v3', 'm3')">Last Page üéÅ</button>
        </div>
    </div>

    <div class="part" id="p3">
        <video class="bg-video" id="v3" loop muted playsinline><source src="video3.mp4" type="video/mp4"></video>
        <div class="content">
            <h1>Forever Yours üíç</h1>
            <div class="scroll-area"><p class="type-txt" id="m3"></p></div>
            <div id="val-box">
                <p style="font-weight: bold; color: #ff4d4d;">Will you be my Valentine?</p>
                <div class="val-btns">
                    <button id="yes-btn" class="btn" onclick="startArchery()">YES! üèπ</button>
                    <button id="no-btn" class="btn" style="background:#444" onmouseover="moveNo()">NO</button>
                </div>
            </div>
        </div>
    </div>

    <div id="game-ui">üèπ Score: <span id="score">0</span>/3<br><small>Drag Bow to Aim!</small></div>
    <canvas id="game-canvas"></canvas>

    <div class="coupon" id="final-coupon">
        <h1 id="coupon-title">üéüÔ∏è SPECIAL OFFER</h1>
        <p id="coupon-msg" style="margin: 15px 0;">You won a special date with Jatin!</p>
        <p id="offer-details"><strong>Unlimited Hugs & Your Fav Food!</strong></p>
        
        <div class="claim-btns" id="claim-area">
            <button class="btn" id="claim-btn" onclick="claimOffer()">Tap to Claim Offer üéÅ</button>
            <button class="btn" id="not-interested-btn" onmouseover="moveNotInterested()" onclick="moveNotInterested()">Not Interested</button>
        </div>

        <button class="btn" id="confession-trigger" onclick="openConfession()" style="display:none; background: #8b0000; margin-top: 10px;">Open My Confession... ü§´</button>
    </div>

    <div class="part" id="confession-page">
        <video id="finalVideo" playsinline><source src="confession.mp4" type="video/mp4"></video>
    </div>

    <script>
        // ... (Same msgList, heart rain, and typing logic as previous response) ...
        const msgList = {
            m1: "To My Gaggo. This is where it all started. Every second with you is a blessing. First of all, I love you so much! üíã I know I can be a bit difficult sometimes, but I still love you more than anything. I hope you remember how we first started talking-that 'early days' kind of love. I remember trying so hard to convince you to be with me while you were being your stubborn and picky self, but you were still so wonderful. I remember talking to you until we fell asleep and telling you I love you, because I truly got addicted to how cute you are. Those early phone calls and video chats are memories I'll always cherish, and I know we'll keep making more. Today's Date: February 11, 2026. We are actually in the middle of a fight right now, so I wanted to remind you of all this. It's funny-it's 11:53 PM, and I'm writing this while looking at you right now on video call.",
            m2: "All the memories I‚Äôve spent with you are truly beautiful, but even today, there are certain moments that fill my heart with happiness whenever I think about them. Like the time when you used to come to learn scooty riding with your brother, and I would come just to see you. Or the moment I saw you for the first time after we got into a relationship‚Äîcoming back home and talking about how it felt to see you, how happy and special it made me feel. Then came the day we finally met for the first time. That first wave, that moment‚Äîwe shared our first kiss, and it was unforgettable. The love in that moment was different, pure, and deeply emotional, a feeling that words can hardly describe. Meeting you at the Dilwali Mela was another one of our best moments. We spent the most time together that day and created memories that will always stay close to my heart. Thank you for coming into my life, for becoming so special to me, and for making me feel emotions I never knew before. I love you so much, my love. ‚ù§Ô∏è",
            m3: "Lastly, I want to say sorry for any time I may have misbehaved with you. I‚Äôm trying to control myself, but sometimes because I care too much, I become over-protective, and my anger comes out quickly. I end up saying more than I should or sounding harsh‚Äîand for that, I‚Äôm truly sorry. If possible, please forgive me. And if there‚Äôs any mistake in these words, forgive your baby as well. I‚Äôm not very good at expressing all this, but I honestly tried‚Äîjust to make you feel a little special and loved. Thank you once again for coming into my life. Happy very first anniversary, my love. ü´Çüíó"
        };

        function createHeart() {
            const h = document.createElement('div'); h.className = 'heart-rain'; h.innerHTML = '‚ù§Ô∏è';
            h.style.left = Math.random() * 100 + 'vw'; h.style.animationDuration = (Math.random()*3+2)+'s';
            document.body.appendChild(h); setTimeout(() => h.remove(), 5000);
        }
        setInterval(createHeart, 300);

        function go() { document.getElementById("myMusic").play(); nxt('p1', 'v1', 'm1'); }
        function nxt(pId, vId, mId) {
            document.querySelectorAll('.part').forEach(p => p.classList.remove('active'));
            document.getElementById(pId).classList.add('active');
            let v = document.getElementById(vId); if(v) v.play();
            if(mId) type(mId, msgList[mId], pId);
        }

        function type(id, text, pId) {
            let i = 0; let el = document.getElementById(id); el.innerHTML = "";
            function t() { 
                if(i < text.length){ 
                    el.innerHTML += text.charAt(i); i++; 
                    el.parentElement.scrollTop = el.parentElement.scrollHeight;
                    setTimeout(t, 35); 
                } else {
                    if(pId === 'p1') document.getElementById('b1').style.display='inline-block';
                    if(pId === 'p2') document.getElementById('b2').style.display='inline-block';
                    if(pId === 'p3') document.getElementById('val-box').style.display='block';
                } 
            } t();
        }

        function moveNo() {
            const b = document.getElementById('no-btn');
            b.style.left = Math.random()*70+'%'; b.style.top = Math.random()*70+'%';
        }

        function moveNotInterested() {
            const b = document.getElementById('not-interested-btn');
            b.style.position = 'fixed';
            b.style.left = Math.random()*60 + 20 + '%'; 
            b.style.top = Math.random()*60 + 20 + '%';
        }

        function claimOffer() {
            document.getElementById('claim-area').style.display = 'none';
            document.getElementById('coupon-title').innerHTML = "‚úÖ OFFER CLAIMED!";
            document.getElementById('coupon-msg').innerHTML = "You have successfully claimed your date!";
            document.getElementById('confession-trigger').style.display = 'inline-block';
        }

        function startArchery() {
            document.getElementById('p3').style.display='none';
            document.getElementById('game-canvas').style.display='block';
            document.getElementById('game-ui').style.display='block';
            const canvas = document.getElementById('game-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            let score = 0, arrows = [], targets = [], bowX = 40, bowY = canvas.height/2, isDrawing = false;
            
            const move = (e) => { bowY = (e.touches ? e.touches[0].clientY : e.clientY); };
            canvas.addEventListener('mousemove', move);
            canvas.addEventListener('touchmove', (e) => { e.preventDefault(); move(e); }, {passive: false});
            canvas.onmousedown = canvas.ontouchstart = (e) => { isDrawing = true; move(e); };
            canvas.onmouseup = canvas.ontouchend = () => { if(isDrawing) { arrows.push({x: bowX, y: bowY}); isDrawing = false; } };

            let sInt = setInterval(() => targets.push({x: canvas.width-60, y: Math.random()*(canvas.height-100)+50, r: 25}), 1500);

            function loop() {
                ctx.clearRect(0,0,canvas.width, canvas.height);
                ctx.strokeStyle = "white"; ctx.lineWidth = 4;
                ctx.beginPath(); ctx.arc(bowX, bowY, 45, -Math.PI/2, Math.PI/2); ctx.stroke();
                ctx.beginPath(); ctx.moveTo(bowX, bowY-45); ctx.lineTo(bowX, bowY+45); ctx.stroke();
                arrows.forEach((a, ai) => {
                    a.x += 15; ctx.fillStyle = "white"; ctx.fillRect(a.x, a.y-1, 30, 3);
                    targets.forEach((t, ti) => {
                        if(Math.hypot(a.x - t.x, a.y - t.y) < t.r + 10) { arrows.splice(ai,1); targets.splice(ti,1); score++; document.getElementById('score').innerText = score; if(score>=3){ clearInterval(sInt); win(); score=-99; } }
                    });
                });
                targets.forEach(t => { ctx.font = "40px serif"; ctx.fillText("‚ù§Ô∏è", t.x, t.y+15); });
                if(score < 3) requestAnimationFrame(loop);
            }
            loop();
        }

        function win() {
            document.getElementById('game-canvas').style.display='none';
            document.getElementById('game-ui').style.display='none';
            document.getElementById('final-coupon').style.display='block';
        }

        function openConfession() {
            document.getElementById('final-coupon').style.display = 'none';
            document.getElementById('myMusic').pause(); 
            document.getElementById('confession-page').style.display = 'flex';
            document.getElementById('confession-page').classList.add('active');
            const v = document.getElementById('finalVideo');
            v.volume = 1.0;
            v.play();
        }
    </script>
</body>
</html>
